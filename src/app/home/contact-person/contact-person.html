<app-title [titleValue]="'聯絡人'" />
<!--匯入名片圖(支持 JPG/PNG/PDF)-->
<div class="wrapper">

    <p-button
            (click)="showDialogue();handleOperationModeChange('ocr')"
            fluid
            icon="pi pi-plus"
            label="匯入名片圖(支持 JPG/PNG/PDF)"
            severity="contrast"
    />
    <div class="contact-item">
        <div class="contact-column">{{ contact_person().name }}</div>
        <div class="contact-column">{{ contact_person().position }}</div>
        <div class="contact-column">{{ contact_person().phone }}</div>
        <div class="contact-column contact-column__column-end">
            <p-button
                    (click)="showDialogue();handleOperationModeChange('view')"
                    icon="pi pi-eye"
                    label="顯示"
                    severity="secondary"
                    variant="text"
            />
            <p-button
                    (click)="showDialogue();handleOperationModeChange('edit')"
                    icon="pi pi-pencil"
                    label="編輯"
                    severity="secondary"
                    variant="text"
            />
            <p-button
                    (click)="handleDelete()"
                    icon="pi pi-trash"
                    label="刪除"
                    severity="danger"
                    variant="text"
            />
        </div>
    </div>
</div>

<app-common-dialog
        [header]="''"
        [needTopSpace]="true">
    @if (operation_mode() === 'view') {
        <app-name-card
                [contact_person]="contact_person()"
        />
    } @else if (operation_mode() === 'edit') {
        <app-contact-person-form

        />
    } @else if (operation_mode() === 'ocr') {
        <app-name-card-ocr-import/>
    }

</app-common-dialog>
